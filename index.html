<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Christmas Letter for Isay</title>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg1: #0b1221;
      --bg2: #13213f;
      --white: #fff;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      min-height: 100vh;
      font-family: 'Poppins', sans-serif;
      color: var(--white);
      background: radial-gradient(1200px 600px at 70% -10%, #1d2a57 0%, var(--bg1) 30%, var(--bg2) 100%);
      overflow-x: hidden;
    }
    body::before {
      content:"";
      position:fixed; inset:-20vmax; z-index:0;
      background: conic-gradient(from 180deg, #ff5c8a, #ffd166, #06d6a0, #5ab0ff);
      filter: blur(100px) opacity(.08);
      animation: spin 40s linear infinite;
    }
    @keyframes spin { to { transform: rotate(360deg) } }

    /* Snow / default theme */  
    
    body.snowy {
      /* Already using default body styling above */
    }

    /* Fireplace theme */
    body.fireplace {
      background: linear-gradient(180deg, #3b1c0f, #1a0a05);
      color: #ffd9b3;
    }

    /* Candy theme */
    body.candy {
      background: repeating-linear-gradient(45deg, #ff5c8a, #ff5c8a 20px, #ffffff 20px, #ffffff 40px);
      color: #000;
    }

    .snow { position: fixed; inset:0; pointer-events:none; z-index:1 }
    .flake {
      position:absolute; top:-2vh; color:#fff; opacity:.9; font-size:16px;
      filter: drop-shadow(0 0 3px rgba(255,255,255,.7));
      animation: fall var(--dur) linear infinite, drift var(--driftDur) ease-in-out infinite;
    }
    @keyframes fall { to { transform: translateY(110vh) } }
    @keyframes drift { 0%{margin-left:-8px}50%{margin-left:8px}100%{margin-left:-8px} }

    .header { position: relative; z-index:2; text-align:center; padding:32px 16px 12px }
    .title { font-family:'Great Vibes', cursive; font-size:clamp(36px,6vw,68px); margin:0 }
    .subtitle { margin:8px 0 0; font-size:clamp(14px,2.3vw,18px); opacity:.85 }

    .envelope-wrap { position:relative; z-index:2; display:grid; place-items:center; padding:0 16px 40px }
    .envelope {
      position:relative; width:min(660px,92vw); aspect-ratio:4/2.6; border-radius:18px;
      background:linear-gradient(180deg, rgba(255,255,255,.15), rgba(255,255,255,.07));
      box-shadow:0 16px 40px rgba(0,0,0,.3), inset 0 1px 0 rgba(255,255,255,.3);
      overflow:hidden; transform-style:preserve-3d;
    }
    .flap {
      position:absolute; inset:0; transform-origin:top; z-index:3;
      background: linear-gradient(180deg, rgba(255,255,255,.28), rgba(255,255,255,.12)),
                  linear-gradient(120deg,#ff5c8a,#ffd166,#06d6a0);
      clip-path: polygon(0 0, 100% 0, 50% 58%);
      transition: transform .9s cubic-bezier(.2,.7,.2,1), box-shadow .4s ease;
      box-shadow:0 30px 40px rgba(0,0,0,.25);
    }
    .seal {
      position:absolute; top:36%; left:50%; transform:translateX(-50%);
      width:64px; height:64px; border-radius:50%;
      background: radial-gradient(circle at 35% 30%, #ff839f 0%, #e63946 55%, #b51d2b 100%);
      box-shadow:0 10px 18px rgba(0,0,0,.35), inset 0 2px 4px rgba(255,255,255,.3);
      display:grid; place-items:center; z-index:4; cursor:pointer;
    }
    .seal-heart { font-size:28px; animation: thump 1.6s ease-in-out infinite }
    @keyframes thump { 0%,100%{transform:scale(1)}20%{transform:scale(1.1)} }

    .letter {
      position:absolute; inset:10% 7%; border-radius:16px;
      backdrop-filter: blur(6px); box-shadow: inset 0 1px 0 rgba(255,255,255,.25);
      padding: clamp(18px,3.6vw,28px);
      background: rgba(255,255,255,.08);
      transform: translateY(16%) rotateX(12deg); opacity:0;
      overflow-y: auto; max-height: 60vh;
      transition: transform 1s cubic-bezier(.2,.7,.2,1), opacity .8s ease;
    }
    .letter h2 { margin:0 0 8px; font-family:'Great Vibes', cursive; font-size:clamp(28px,5.2vw,52px) }
    .letter .content { font-size:clamp(14px,2.3vw,18px); line-height:1.7; padding-right:12px; }
    .letter-section { margin-bottom:20px; border-bottom:1px solid rgba(255,255,255,.2); padding-bottom:10px; }

    .envelope.open .flap { transform: rotateX(180deg); }
    .envelope.open .letter { transform: translateY(0) rotateX(0); opacity:1; }
    .envelope.open .seal { transform: translateX(-50%) translateY(-8px) scale(.92); opacity:.25; pointer-events:none; }

    .controls { position:relative; z-index:2; text-align:center; margin:20px }
    .btn { font:inherit; color:#fff; background:linear-gradient(90deg,#ff5c8a,#ffd166);
           border:none; border-radius:999px; padding:10px 16px; cursor:pointer;
           box-shadow:0 8px 20px rgba(0,0,0,.3);
           transition: transform .15s ease, filter .2s ease; }
    .btn:hover { transform:translateY(-2px); filter:brightness(1.06); }

    .select { margin-left:12px; padding:8px 10px; border-radius:999px;
               border:1px solid rgba(255,255,255,.3); background:rgba(255,255,255,.08);
               color:#fff; }

    .gift-wrap { position:relative; z-index:2; text-align:center; margin-top:30px }
    .gift-box { font-size:80px; cursor:pointer; transition: transform .4s ease;
                display:inline-block; margin:16px }
    .gift-box:hover { transform:scale(1.2) rotate(10deg) }
    .gift-text { margin:6px 0 14px; font-size:16px; opacity:.85 }
    .photo img { max-width:300px; border-radius:12px;
                 box-shadow:0 8px 20px rgba(0,0,0,.5); }
    .hidden { display:none; }

    /* Modal (glass-morphism) */
    .modal-overlay {
      position: fixed;
      top:0; left:0; right:0; bottom:0;
      background: rgba(0,0,0,0.6);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }
    .modal-box {
      background: rgba(255,255,255,0.15);
      backdrop-filter: blur(8px);
      border-radius: 12px;
      padding: 24px 32px;
      width: 90%;
      max-width: 360px;
      text-align: center;
      color: #fff;
      box-shadow: 0 8px 32px rgba(0,0,0,.5);
      position: relative;
      animation: fadeInModal 0.4s ease-out;
    }
    .modal-box h2 {
      margin-top: 0;
      font-size: 1.6rem;
      margin-bottom: 16px;
    }
    .modal-box input[type=password] {
      width: 100%; padding: 12px 14px;
      margin-bottom: 16px;
      border: none; border-radius: 8px;
      background: rgba(255,255,255,0.25); color: #fff;
      font-size: 1rem;
    }
    .modal-box input::placeholder { color: rgba(255,255,255,0.7); }
    .modal-box button {
      width: 100%; padding: 12px 0;
      border: none; border-radius: 8px;
      background: linear-gradient(90deg, #ff5c8a, #ffd166);
      color: #0b1221; font-size: 1rem; font-weight: bold;
      cursor: pointer;
      transition: transform .15s ease, filter .2s ease;
    }
    .modal-box button:hover {
      transform: translateY(-2px); filter: brightness(1.05);
    }
    .modal-close {
      position: absolute; top: 12px; right: 16px;
      font-size: 1.3rem; color: #fff; cursor: pointer;
    }
    .error-msg {
      color: #ff6363; margin-top: 12px; display: none; font-size: 0.9rem;
    }

    /* Hide song reason by default */
    #songReason { display: none; color: var(--white); margin-top: 16px; font-family: 'Poppins', sans-serif; }
  </style>
</head>
<body class="snowy">

  <div class="snow" aria-hidden="true"></div>

  <header class="header">
    <h1 class="title">Merry Christmas, my love</h1>
    <h1 class="title">Isay</h1>
    <p class="subtitle">Tap the red seal to open your letter</p>
  </header>

  <div class="controls">
    <button class="btn" id="musicToggle">Play Music üé∂</button>
    <audio id="bgMusic" src="Justin Bieber - Mistletoe (Lyrics).mp3" loop></audio>

    <label for="themeSelect" style="margin-left:10px;">Theme:</label>
    <select id="themeSelect" class="select">
      <option value="snowy">‚ùÑÔ∏è Snowy Night</option>
      <option value="fireplace">üî• Cozy Fireplace</option>
      <option value="candy">üç≠ Candy Cane Wonderland</option>
    </select>
  </div>

  <section class="envelope-wrap">
    <div class="envelope" id="envelope">
      <div class="flap"></div>
      <div class="seal" id="seal" role="button" aria-label="Open letter"><div class="seal-heart">‚ù§Ô∏è</div></div>
      <div class="letter" id="letter">
        <h2>To my favorite person</h2>
        <div class="letter-section">
          <h3>Letter 1: A Christmas Greeting</h3>
          <p class="content">Hello sayyyy, naabtan jud tag pasko HHSSHSHSHHSHS unta dili pa ni ang last pasko. I hope daghan pa mo abotay saato na days I'm very lucky na ikaw jud akoa naka fling. Merry Christmas sainyoooo diraaaa!</p>
        </div>
        <div class="letter-section">
          <h3>Letter 2: My Feelings</h3>
          <p class="content">Grabe noh ambilis ng panahon HAHHWHAHAHHWa di man unta ta kaila sauna pero karon grabe naman ka inlove, grabe jud I‚Äôm so lucky it‚Äôs you. unta di ka magsawa saako hwhahwahwhahs sorry sa mga adlaw na murag cold kayko o dugay kayko ka reply dili meaning ana nga nag sawa nako, nagbuhat rako ani kaya busy HWHAHHAHAHHWAHWHAH sorry hindi ako nagsabi gusto ko surprise e HAWHAHWHAWHAWHA pang 6 days nani nako ron nagbuhat ani (december 4) wa nakoy lain maingon kuan nalang, I LOVE YOUUUUUU VERYYYYY MUCHHHHHHHHH MWAAAAAAAA</p>
        </div>
        <div class="letter-section">
          <h3>Letter 3: Future Wishes</h3>
          <p class="content">I can't wait for more moments together. Let's make more memories. Sabay ta saatong byahe, trust ra sa kay God ug sa process ma succesful rata puhon HAHHAWHSASJ. Again Merry Christmas I LOVE YOUUUUU.</p>
        </div>
      </div>
    </div>
  </section>

  <section class="gift-wrap">
    <div class="gift-box bounce" id="giftVoice" aria-label="Play voice message">üéÅ</div>
    <p class="gift-text">Click to hear my voice</p>
    <audio id="voiceMessage" src="cj.mp3"></audio>

    <div class="gift-box bounce" id="giftPhoto" aria-label="Reveal favorite photo">üéÅ</div>
    <p class="gift-text">Click to see my fav pic of you</p>
    <div class="photo hidden" id="photoReveal">
      <img src="april.jpg" alt="Her Picture">
      <p>Sheyttttt maria makiling. Ka gwapa jud saakong asawa oh baskin unsaon ba di jud ko mapul an sig tan aw ani nga pic HHWAHWHAHAW</p>
    </div>

    <div class="gift-box bounce" id="giftSong" aria-label="Play dedicated song">üéÅ</div>
    <p class="gift-text">My song for you.</p>
    <audio id="songPlayer" controls class="hidden">
      <source src="Dalangin by Earl Agustin (Lyrics).mp3" type="audio/mpeg">
    </audio>
    <p id="songReason">Gi dedicate nako ni nga kanta saimo because ikaw akoang mahunahunaan and also mao sad ni akong fav song,
      relate jud kayko ani, sa first lyrics palang na "nahulog sayong mga mata" tong first kita nako saimo sa gym akong mahunahunaan
      gwapaaaaaa jud kaayo ka then swerte kaayo ko kay ikaw jud hooooo, tapos sa chorus pajud ani "ikaw ang panalangin na makasama hanggang sa pagtanda" hayssss sana matupad ang panalangin HAWHAWHAHWHAWHHAW, I LOVE YOUUUUUU</p>
  </section>

  <div class="modal-overlay" id="passwordModal">
    <div class="modal-box">
      <span class="modal-close">&times;</span>
      <h2>Enter Password to Open</h2>
      <input type="password" id="passwordInput" placeholder="Password" autocomplete="off" />
      <button id="submitPassword">Open Letter</button>
      <p id="errorMessage" class="error-msg">Incorrect password. Try again!</p>
    </div>
  </div>

  <script>
    const correctPassword = "neonparty";
    const envelopeEl = document.getElementById("envelope");
    const seal = document.getElementById("seal");
    const modal = document.getElementById("passwordModal");
    const closeBtn = document.querySelector(".modal-close");
    const submitBtn = document.getElementById("submitPassword");
    const passwordInput = document.getElementById("passwordInput");
    const errorMessage = document.getElementById("errorMessage");

    seal.addEventListener("click", () => {
      passwordInput.value = "";
      errorMessage.style.display = "none";
      modal.style.display = "flex";
    });

    closeBtn.onclick = () => { modal.style.display = "none"; };
    submitBtn.onclick = () => {
      if (passwordInput.value === correctPassword) {
        modal.style.display = "none";
        envelopeEl.classList.add("open");
      } else {
        errorMessage.style.display = "block";
      }
    };
    window.addEventListener("click", (e) => {
      if (e.target === modal) modal.style.display = "none";
    });

    // Snowflakes
    const snowLayer = document.querySelector('.snow');
    const flakeCount = Math.min(120, Math.max(40, Math.floor(window.innerWidth / 10)));
    for (let i = 0; i < flakeCount; i++) {
      const f = document.createElement('div');
      f.className = 'flake';
      f.textContent = ['‚ùÑ','‚ú¶','‚úß','‚Ä¢'][Math.floor(Math.random()*4)];
      f.style.left = Math.random()*100+'vw';
      f.style.animationDelay = (Math.random()*8)+'s';
      f.style.setProperty('--dur', (6 + Math.random()*10) + 's');
      f.style.setProperty('--driftDur', (3 + Math.random()*6) + 's');
      snowLayer.appendChild(f);
    }

    // Music toggle
    const musicToggle = document.getElementById('musicToggle');
    const bgMusic = document.getElementById('bgMusic');
    let musicPlaying = false;
    musicToggle.addEventListener('click', () => {
      if (musicPlaying) {
        bgMusic.pause();
        musicToggle.textContent = 'Play Music üé∂';
      } else {
        bgMusic.play().catch(()=>{});
        musicToggle.textContent = 'Pause Music ‚è∏Ô∏è';
      }
      musicPlaying = !musicPlaying;
    });

    // Theme switcher
    const themeSelect = document.getElementById('themeSelect');
    themeSelect.addEventListener('change', () => {
      const theme = themeSelect.value;
      document.body.classList.remove('snowy','fireplace','candy');
      document.body.classList.add(theme);
    });

    // Gifts logic
    const giftVoice = document.getElementById('giftVoice');
    const voiceMessage = document.getElementById('voiceMessage');
    giftVoice.addEventListener('click', () => {
      voiceMessage.play().catch(()=>{});
      giftVoice.textContent = '‚ù§Ô∏é';
    });

    const giftPhoto = document.getElementById('giftPhoto');
    const photoReveal = document.getElementById('photoReveal');
    giftPhoto.addEventListener('click', () => {
      photoReveal.classList.remove('hidden');
    });

    const giftSong = document.getElementById('giftSong');
    const songPlayer = document.getElementById('songPlayer');
    const songReason = document.getElementById('songReason');
    giftSong.addEventListener('click', () => {
      songPlayer.classList.remove('hidden');
      songPlayer.play().catch(()=>{});
      giftSong.textContent = '·Ø§Spotify';
      songReason.style.display = 'block';
    });
  </script>
</body>
</html>
